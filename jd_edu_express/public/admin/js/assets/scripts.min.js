var plugin_path="js/plugins/";var server_url="http://127.0.0.1:8361/webapi";window.width=jQuery(window).width();jQuery(window).ready(function(){Init(false)});function Init(){_toastr(false,false,false,false)}function _ajax_post(type,action,parm,success_do){$.ajax({type:type,url:action,headers:{token:sessionStorage.getItem("token")},data:parm,error:function(XMLHttpRequest,textStatus,errorThrown){_toastr("error message : "+errorThrown.toString(),"bottom-right","error",false)},success:function(ret){if(ret.errno==0){if(success_do){success_do(ret.data)}}else{_toastr(ret.errmsg,"bottom-right","error",false)}}})}function _toastr(_message,_position,_notifyType,_onclick){if(_message!=false){loadScript(plugin_path+"toastr/toastr.min.js",function(){if(_message!=false){if(_onclick!=false){onclick=function(){window.location=_onclick}}else{onclick=null}toastr.options={"closeButton":true,"debug":false,"newestOnTop":false,"progressBar":true,"positionClass":"toast-"+_position,"preventDuplicates":false,"onclick":onclick,"showDuration":"300","hideDuration":"1000","timeOut":"5000","extendedTimeOut":"1000","showEasing":"swing","hideEasing":"linear","showMethod":"fadeIn","hideMethod":"fadeOut"};setTimeout(function(){toastr[_notifyType](_message)},0)}})}}function _toastr_err(_message){_toastr(_message,"bottom-right","error",false)}function _toastr_ok(_message){_toastr(_message,"bottom-right","success",false)}var _arr={};function loadScript(scriptName,callback){if(!_arr[scriptName]){_arr[scriptName]=true;var body=document.getElementsByTagName("body")[0];var script=document.createElement("script");script.type="text/javascript";script.src=scriptName;script.onload=callback;body.appendChild(script)}else{if(callback){callback()}}}function initPropChoose(addFunc){$(".prop-chosen-choices").on("click","li .prop-search-choice-close",function(){var value=$(this).attr("data-value");$(".prop-search-choice").remove("[data-value="+value+"]")});$(".prop-chosen-choices").on("click",function(evn){if(!$(evn.target).hasClass("prop-search-choice-close")){addFunc(evn.target)}})}function GetRequest(){var url=location.search;var theRequest=new Object();if(url.indexOf("?")!=-1){var str=url.substr(1);strs=str.split("&");for(var i=0;i<strs.length;i++){theRequest[strs[i].split("=")[0]]=unescape(strs[i].split("=")[1])}}return theRequest}Date.prototype.format=function(format){var o={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),"S":this.getMilliseconds()};if(/(y+)/.test(format)){format=format.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length))}for(var k in o){if(new RegExp("("+k+")").test(format)){format=format.replace(RegExp.$1,RegExp.$1.length==1?o[k]:("00"+o[k]).substr((""+o[k]).length))}}return format};